{
	"name": "Enemy_es",
	"events": [
		{
			"functionName": "SpawnEnemy",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "Enemy",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 717471865391939
				},
				{
					"name": "x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 114400309767383
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 798719416993107
				},
				{
					"name": "health",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 809726408170287
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 812836712794368,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 442566201164758,
							"parameters": {
								"value": "Enemy = \"Zombie\""
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 706958221782157,
							"parameters": {
								"object-to-create": "Zombie",
								"layer": "\"Layer 1\"",
								"x": "x",
								"y": "y",
								"create-hierarchy": true,
								"template-name": "\"Zombie\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Zombie",
							"sid": 302903982822110,
							"parameters": {
								"instance-variable": "Health",
								"value": "health"
							}
						},
						{
							"id": "add-obstacle",
							"objectClass": "Zombie",
							"sid": 698154158100667,
							"behaviorType": "LineOfSight",
							"parameters": {
								"obstacle": "Terrain"
							}
						},
						{
							"callFunction": "Add_MobRate",
							"sid": 471884897373097,
							"parameters": [
								"Zombie.MobSpawnWeight"
							]
						}
					],
					"sid": 698895970246289
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 432280653470675,
					"parameters": {
						"key": 50
					}
				}
			],
			"actions": [
				{
					"callFunction": "SpawnEnemy",
					"sid": 987464348969719,
					"parameters": [
						"\"Zombie\"",
						"Mouse.X",
						"Mouse.Y",
						"10"
					]
				}
			],
			"sid": 935614859340985,
			"disabled": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Enemies",
					"sid": 335502344118358,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"Seek\""
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Enemies",
					"sid": 634019409329235,
					"parameters": {
						"instance-variable": "State",
						"value": "\"Standby\""
					}
				}
			],
			"sid": 223075501775938
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Enemies",
					"sid": 996032773911797,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"Burning\""
					}
				}
			],
			"actions": [
				{
					"id": "stop-timer",
					"objectClass": "Enemies",
					"sid": 157327849948118,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"BurnHit\""
					}
				}
			],
			"sid": 447737752147100,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "Enemies",
							"sid": 412320015014085,
							"parameters": {
								"child": "Fire",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 619674896920360,
							"parameters": {
								"seconds": "0"
							}
						},
						{
							"id": "destroy",
							"objectClass": "Fire",
							"sid": 811111060057684
						}
					],
					"sid": 608139847437748
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Enemies",
					"sid": 748561304941749,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"BurnHit\""
					}
				}
			],
			"actions": [
				{
					"callFunction": "HitEnemy",
					"sid": 739917953895562,
					"parameters": [
						"Enemies.UID",
						"0",
						false,
						"1",
						"0"
					]
				}
			],
			"sid": 536580726953946
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 660649081079274,
					"parameters": {
						"object": "Enemies"
					}
				}
			],
			"actions": [],
			"sid": 188688102213244,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-timer-running",
							"objectClass": "Enemies",
							"sid": 307990744784201,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Burning\""
							}
						}
					],
					"actions": [],
					"sid": 683029482978066,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Enemies",
									"sid": 218440100029627,
									"parameters": {
										"child": "Fire",
										"which": "own"
									}
								}
							],
							"actions": [],
							"sid": 709838777426167
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 524833105684190
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 131636322372614,
									"parameters": {
										"object-to-create": "Fire",
										"layer": "\"Layer 1\"",
										"x": "Enemies.X",
										"y": "Enemies.BBoxTop-8",
										"create-hierarchy": true,
										"template-name": "\"Zombie\""
									}
								},
								{
									"id": "add-child",
									"objectClass": "Enemies",
									"sid": 820903971476305,
									"parameters": {
										"child": "Fire",
										"transform-x": true,
										"transform-y": true,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-o": true,
										"transform-z-elevation": true,
										"transform-visibility": false,
										"destroy-with-parent": true
									}
								}
							],
							"sid": 570923581230042
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "has-los-to-object",
							"objectClass": "Enemies",
							"sid": 214850644953957,
							"behaviorType": "LineOfSight",
							"parameters": {
								"object": "Sprite",
								"image-point": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Enemies",
							"sid": 617744064324442,
							"parameters": {
								"instance-variable": "State",
								"value": "\"Follow\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Enemies",
							"sid": 851056351359535,
							"parameters": {
								"instance-variable": "TargetX",
								"value": "Sprite.X"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Enemies",
							"sid": 515483816347084,
							"parameters": {
								"instance-variable": "TargetY",
								"value": "Sprite.Y"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "Enemies",
							"sid": 803593560422599,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "3",
								"type": "once",
								"tag": "\"Seek\""
							}
						}
					],
					"sid": 676421803197971
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 514593048968581,
							"parameters": {
								"value": "Enemies.ObjectTypeName = \"Zombie\""
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Enemies",
							"sid": 961755021772678,
							"parameters": {
								"child": "Sprite27",
								"which": "own"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Sprite27",
							"sid": 113909239687857,
							"parameters": {
								"child": "Hand2",
								"which": "own"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Sprite27",
							"sid": 649791341522832,
							"parameters": {
								"child": "Sprite28",
								"which": "own"
							}
						}
					],
					"actions": [],
					"sid": 676689607907657,
					"children": [
						{
							"eventType": "variable",
							"name": "tilex",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 366152299068847
						},
						{
							"eventType": "variable",
							"name": "tiley",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 672521925835651
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 343801757653603,
									"parameters": {
										"value": "PhaseDayClycle = \"Day\""
									}
								}
							],
							"actions": [
								{
									"id": "cast-ray",
									"objectClass": "Enemies",
									"sid": 902381218103282,
									"behaviorType": "LineOfSight",
									"parameters": {
										"from-x": "Self.X",
										"from-y": "Self.BBoxTop",
										"to-x": "Self.X",
										"to-y": "0",
										"use-collision-cells": true
									}
								}
							],
							"sid": 930247118766369,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "ray-intersected",
											"objectClass": "Enemies",
											"sid": 943905199570751,
											"behaviorType": "LineOfSight",
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "start-timer",
											"objectClass": "Enemies",
											"sid": 479504703022143,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "3",
												"type": "once",
												"tag": "\"Burning\""
											}
										}
									],
									"sid": 404722625472685,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "Enemies",
													"sid": 987609799163666,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"BurnHit\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "start-timer",
													"objectClass": "Enemies",
													"sid": 312039828740857,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "1.0",
														"type": "regular",
														"tag": "\"BurnHit\""
													}
												}
											],
											"sid": 167109743977168
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 608642767326383,
									"parameters": {
										"value": "Enemies.State = \"Follow\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 553980664854741,
									"parameters": {
										"variable": "tilex",
										"value": "Terrain.PositionToTileX(Enemies.X)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 147901725743534,
									"parameters": {
										"variable": "tiley",
										"value": "Terrain.PositionToTileY(Enemies.Y)"
									}
								}
							],
							"sid": 939519910775736,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-angle",
											"objectClass": "Hand2",
											"sid": 209042139124808,
											"parameters": {
												"angle": "angle(Self.X,Self.Y,Enemies.TargetX,Enemies.TargetY)+(sin(tickcount*3)*15)"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "Sprite28",
											"sid": 933292629706563,
											"parameters": {
												"angle": "(sin(Tick*80)*(30*Self.index))"
											}
										},
										{
											"id": "set-size",
											"objectClass": "Sprite27",
											"sid": 839910374536157,
											"parameters": {
												"width": "16*sign(Self.Width)",
												"height": "lerp(Self.Height,16*sign(Self.Height)+(sin(tickcount*2)*1),0.3)"
											}
										}
									],
									"sid": 808536536462338
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 573598009305915,
											"parameters": {
												"value": "Enemies.X > Enemies.TargetX"
											}
										},
										{
											"id": "is-on-floor",
											"objectClass": "Enemies",
											"sid": 731313336408368,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "set-vector-x",
											"objectClass": "Enemies",
											"sid": 225706530384534,
											"behaviorType": "Platform",
											"parameters": {
												"vector-x": "-30"
											}
										},
										{
											"id": "set-mirrored",
											"objectClass": "Sprite27",
											"sid": 299375684884746,
											"parameters": {
												"state": "not-mirrored"
											}
										}
									],
									"sid": 859853175243544,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-tile-at",
													"objectClass": "Terrain",
													"sid": 291211978403339,
													"parameters": {
														"tile-x": "tilex-1",
														"tile-y": "tiley",
														"comparison": 1,
														"tile": "-1"
													}
												}
											],
											"actions": [],
											"sid": 634807809352995,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 482880271968580,
															"parameters": {
																"value": "Functions.TileHaveCollision(Terrain.TileAt(tilex-1,tiley)) = 0"
															}
														}
													],
													"actions": [],
													"sid": 208929281376334,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-on-floor",
																	"objectClass": "Enemies",
																	"sid": 747450208927775,
																	"behaviorType": "Platform"
																}
															],
															"actions": [
																{
																	"id": "simulate-control",
																	"objectClass": "Enemies",
																	"sid": 352172242546072,
																	"behaviorType": "Platform",
																	"parameters": {
																		"control": "jump"
																	}
																}
															],
															"sid": 723887885514853
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 981747736088320,
													"parameters": {
														"object": "Hand2",
														"expression": "Hand2.index = 1"
													}
												}
											],
											"actions": [
												{
													"id": "move-to-object",
													"objectClass": "Hand2",
													"sid": 544545017374310,
													"parameters": {
														"where": "in-front",
														"object": "Sprite27"
													}
												}
											],
											"sid": 439037717863591
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 186586803140584,
													"parameters": {
														"object": "Hand2",
														"expression": "Hand2.index = -1"
													}
												}
											],
											"actions": [
												{
													"id": "move-to-object",
													"objectClass": "Hand2",
													"sid": 300781447412006,
													"parameters": {
														"where": "behind",
														"object": "Sprite27"
													}
												}
											],
											"sid": 931325273250302
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 933909253668861,
											"parameters": {
												"value": "Enemies.X < Enemies.TargetX"
											}
										},
										{
											"id": "is-on-floor",
											"objectClass": "Enemies",
											"sid": 838021238289065,
											"behaviorType": "Platform"
										}
									],
									"actions": [
										{
											"id": "set-vector-x",
											"objectClass": "Enemies",
											"sid": 319479998002175,
											"behaviorType": "Platform",
											"parameters": {
												"vector-x": "30"
											}
										},
										{
											"id": "set-mirrored",
											"objectClass": "Sprite27",
											"sid": 630069154257399,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 911436108841440,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-tile-at",
													"objectClass": "Terrain",
													"sid": 206004581570272,
													"parameters": {
														"tile-x": "tilex+1",
														"tile-y": "tiley",
														"comparison": 1,
														"tile": "-1"
													}
												}
											],
											"actions": [],
											"sid": 730456800736955,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 323858771147095,
															"parameters": {
																"value": "Functions.TileHaveCollision(Terrain.TileAt(tilex+1,tiley)) = 0"
															}
														}
													],
													"actions": [],
													"sid": 925072787410246,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-on-floor",
																	"objectClass": "Enemies",
																	"sid": 605728523726719,
																	"behaviorType": "Platform"
																}
															],
															"actions": [
																{
																	"id": "simulate-control",
																	"objectClass": "Enemies",
																	"sid": 160728364879543,
																	"behaviorType": "Platform",
																	"parameters": {
																		"control": "jump"
																	}
																}
															],
															"sid": 141277102382702
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 977945024007492,
													"parameters": {
														"object": "Hand2",
														"expression": "Hand2.index = 1"
													}
												}
											],
											"actions": [
												{
													"id": "move-to-object",
													"objectClass": "Hand2",
													"sid": 697801582342199,
													"parameters": {
														"where": "behind",
														"object": "Sprite27"
													}
												}
											],
											"sid": 643605154071843
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 162753485679516,
													"parameters": {
														"object": "Hand2",
														"expression": "Hand2.index = -1"
													}
												}
											],
											"actions": [
												{
													"id": "move-to-object",
													"objectClass": "Hand2",
													"sid": 193718666481475,
													"parameters": {
														"where": "in-front",
														"object": "Sprite27"
													}
												}
											],
											"sid": 452880099823452
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 140980920861792,
											"parameters": {
												"value": "distance(Sprite.X,Sprite.Y,Enemies.X,Enemies.Y) < 15"
											}
										}
									],
									"actions": [],
									"sid": 352669254698656,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "every-x-seconds",
													"objectClass": "System",
													"sid": 313745630110399,
													"parameters": {
														"interval-seconds": "0.4"
													}
												}
											],
											"actions": [],
											"sid": 120350418095073,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-timer-running",
															"objectClass": "Enemies",
															"sid": 346391791672495,
															"behaviorType": "Timer",
															"parameters": {
																"tag": "\"Burning\""
															}
														}
													],
													"actions": [
														{
															"callFunction": "addHealth",
															"sid": 716366010161526,
															"parameters": [
																"-1",
																"10",
																true,
																"angle(Enemies.X,Enemies.Y,Sprite.X,Sprite.Y)",
																true
															]
														}
													],
													"sid": 956054124752563
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 680696621929834
														}
													],
													"actions": [
														{
															"callFunction": "addHealth",
															"sid": 510561919972356,
															"parameters": [
																"-1",
																"10",
																true,
																"angle(Enemies.X,Enemies.Y,Sprite.X,Sprite.Y)",
																false
															]
														}
													],
													"sid": 506597831597914
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 927327686153224,
									"parameters": {
										"value": "Enemies.State = \"Standby\""
									}
								}
							],
							"actions": [
								{
									"id": "set-size",
									"objectClass": "Sprite27",
									"sid": 138706047245148,
									"parameters": {
										"width": "16*sign(Self.Width)",
										"height": "lerp(Self.Height,16*sign(Self.Height)+(sin(tickcount*1)*1),0.3)"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "Hand2",
									"sid": 879861753339056,
									"parameters": {
										"angle": "Self.index = 1 ? 135.5 : 45"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "Sprite28",
									"sid": 820876803443825,
									"parameters": {
										"angle": "0"
									}
								}
							],
							"sid": 104547140510560
						}
					]
				}
			]
		},
		{
			"functionName": "HitEnemy",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "UID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 664178854424533
				},
				{
					"name": "Knockback",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 436353467243080
				},
				{
					"name": "Burn",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 709480575121518
				},
				{
					"name": "damage",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 799605384278391
				},
				{
					"name": "AngleAttack",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 466340983709632
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 461435123107267,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 693278210058243,
							"parameters": {
								"object": "Enemies",
								"expression": "Enemies.UID = UID"
							}
						},
						{
							"id": "collisions-enabled",
							"objectClass": "Enemies",
							"sid": 227703939696509
						}
					],
					"actions": [
						{
							"id": "subtract-from-instvar",
							"objectClass": "Enemies",
							"sid": 111073077586498,
							"parameters": {
								"instance-variable": "Health",
								"value": "damage"
							}
						},
						{
							"id": "set-vector-y",
							"objectClass": "Enemies",
							"sid": 991818158348764,
							"behaviorType": "Platform",
							"parameters": {
								"vector-y": "Enemies.Platform.VectorY-(Knockback*10)"
							}
						},
						{
							"id": "set-vector-x",
							"objectClass": "Enemies",
							"sid": 815913539046524,
							"behaviorType": "Platform",
							"parameters": {
								"vector-x": "(cos(AngleAttack)*(Knockback*8))"
							}
						},
						{
							"id": "set-default-color",
							"objectClass": "Enemies",
							"sid": 682274572356749,
							"parameters": {
								"color": "rgbEx(100, 50, 50)"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 968381944136174,
							"parameters": {
								"object-to-create": "SFtext",
								"layer": "Enemies.LayerName",
								"x": "Enemies.X",
								"y": "Enemies.BBoxTop",
								"create-hierarchy": true,
								"template-name": "\"Hit\""
							}
						},
						{
							"id": "set-text",
							"objectClass": "SFtext",
							"sid": 213241640342187,
							"parameters": {
								"text": "damage"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "SFtext",
							"sid": 139967293215605,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetY",
								"end-value": "Self.Y-20",
								"time": "0.3",
								"ease": "easeoutsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "SFtext",
							"sid": 221354862995497,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.3",
								"ease": "default",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 140421347081445,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 821469685584990,
									"parameters": {
										"value": "Enemies.Health > 0"
									}
								}
							],
							"actions": [],
							"sid": 271127076055669,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 178476528497095,
											"parameters": {
												"value": "Burn = 1"
											}
										}
									],
									"actions": [
										{
											"id": "start-timer",
											"objectClass": "Enemies",
											"sid": 674482387918969,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "3",
												"type": "once",
												"tag": "\"Burning\""
											}
										}
									],
									"sid": 641077649211583,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "Enemies",
													"sid": 656833814306798,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"BurnHit\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "start-timer",
													"objectClass": "Enemies",
													"sid": 116665743197846,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "1.0",
														"type": "regular",
														"tag": "\"BurnHit\""
													}
												}
											],
											"sid": 397648472578545
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 155514424301993,
											"parameters": {
												"value": "Enemies.ObjectTypeName = \"Zombie\""
											}
										}
									],
									"actions": [],
									"sid": 656746773451731,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-children",
													"objectClass": "Enemies",
													"sid": 959164476510831,
													"parameters": {
														"child": "Sprite27",
														"which": "own"
													}
												}
											],
											"actions": [
												{
													"id": "set-default-color",
													"objectClass": "Sprite27",
													"sid": 252671676201677,
													"parameters": {
														"color": "rgbEx(100, 0, 0)"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 677532143122240,
													"parameters": {
														"seconds": "0.2"
													}
												},
												{
													"id": "set-default-color",
													"objectClass": "Sprite27",
													"sid": 491406266495268,
													"parameters": {
														"color": "rgbEx(100, 100, 100)"
													}
												}
											],
											"sid": 661538368304421
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 347260980926610
								}
							],
							"actions": [
								{
									"id": "set-enabled",
									"objectClass": "Enemies",
									"sid": 174213220174517,
									"behaviorType": "Platform",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"id": "set-collisions-enabled",
									"objectClass": "Enemies",
									"sid": 409473579498459,
									"parameters": {
										"collisions": "disabled"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Enemies",
									"sid": 121319996448895,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"\"",
										"property": "offsetAngle",
										"end-value": "random(90,270)",
										"time": "0.3",
										"ease": "easeincubic",
										"destroy-on-complete": "yes",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 262896738571628
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 688737666786591,
									"parameters": {
										"object-to-create": "DeathParticle",
										"layer": "\"Layer 1\"",
										"x": "Enemies.X",
										"y": "Enemies.BBoxBottom",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"callFunction": "EnemyDropItem",
									"sid": 205707091676274,
									"parameters": [
										"Enemies.ObjectTypeName",
										"Enemies.X",
										"Enemies.Y"
									]
								},
								{
									"callFunction": "CreateExperienceOrb",
									"sid": 310204604665030,
									"parameters": [
										"JSON.Get(\"Settings.Config.Entity.\"&Enemies.ObjectTypeName&\".Experience\")",
										"Enemies.X",
										"Enemies.Y"
									]
								}
							],
							"sid": 544705760956519
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 106140678276183,
									"parameters": {
										"seconds": "0.2"
									}
								},
								{
									"id": "set-default-color",
									"objectClass": "Enemies",
									"sid": 102530077265807,
									"parameters": {
										"color": "rgbEx(100, 100, 100)"
									}
								}
							],
							"sid": 930327018086194
						}
					]
				}
			]
		},
		{
			"functionName": "EnemyDropItem",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "Enemy",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 197707687029208
				},
				{
					"name": "x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 899404235897296
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 213091482084050
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 922683922130853,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "has-key",
							"objectClass": "JSON",
							"sid": 266517012458986,
							"parameters": {
								"path": "\"Settings.Config.Entity.\"&Enemy&\".Drop\""
							}
						}
					],
					"actions": [],
					"sid": 605115941431450,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "JSON",
									"sid": 446505639020371,
									"parameters": {
										"path": "\"Settings.Config.Entity.\"&Enemy&\".Drop\""
									}
								}
							],
							"actions": [],
							"sid": 246984462058345,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 294080048658944,
											"parameters": {
												"value": "random(100) < JSON.Get(\"Settings.Config.Entity.\"&Enemy&\".Drop.\"&JSON.CurrentKey)"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Drop_Item",
											"sid": 468669740672262,
											"parameters": [
												"1",
												"JSON.CurrentKey",
												"x",
												"y"
											]
										}
									],
									"sid": 599532458349326
								}
							]
						}
					]
				}
			]
		},
		{
			"functionName": "SpawnDeathParticle",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 921463627976176
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 128264001635935
				},
				{
					"name": "layer",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 803419398511937
				},
				{
					"name": "Color",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 586262796657491
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 997769174690046,
					"parameters": {
						"object-to-create": "DeathParticle",
						"layer": "layer",
						"x": "x",
						"y": "y",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-default-color",
					"objectClass": "DeathParticle",
					"sid": 290678584801869,
					"parameters": {
						"color": "Color"
					}
				}
			],
			"sid": 552734883803663
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "SpawnLogic",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "SpawnRate",
					"type": "number",
					"initialValue": "200",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 499881453588962
				},
				{
					"eventType": "variable",
					"name": "MaxMobRate",
					"type": "number",
					"initialValue": "15",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 638993368479904
				},
				{
					"eventType": "variable",
					"name": "MobRate",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 203735213081942
				},
				{
					"functionName": "Add_MobRate",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Value",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 446041595427007
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 776575824280467,
							"parameters": {
								"variable": "MobRate",
								"value": "Value"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 473979125492441,
							"parameters": {
								"variable": "MobRate",
								"value": "Functions.Get_ActiveMobCount"
							}
						}
					],
					"sid": 345016503059089
				},
				{
					"functionName": "RandomSpawnTile",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 499971974360582,
					"children": [
						{
							"eventType": "variable",
							"name": "tileX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 486227064240249
						},
						{
							"eventType": "variable",
							"name": "tileY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 865793838925577
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 287305525209028,
									"parameters": {
										"variable": "tileX",
										"value": "Terrain.PositionToTileX(random(ViewportLeft(\"Layer 1\")-80,ViewportRight(\"Layer 1\")+80))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 130144087046310,
									"parameters": {
										"variable": "tileY",
										"value": "Terrain.PositionToTileY(random(ViewportTop(\"Layer 1\")-48,ViewportBottom(\"Layer 1\")+48))"
									}
								}
							],
							"sid": 157767736005577,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-tile-at",
											"objectClass": "Terrain",
											"sid": 331389753276815,
											"parameters": {
												"tile-x": "tileX",
												"tile-y": "tileY",
												"comparison": 0,
												"tile": "-1"
											}
										}
									],
									"actions": [],
									"sid": 725929851359800,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-between-values",
													"objectClass": "System",
													"sid": 549510682154247,
													"parameters": {
														"value": "Terrain.TileToPositionX(tileX)",
														"lower-bound": "ViewportLeft(\"Layer 1\")",
														"upper-bound": "ViewportRight(\"Layer 1\")"
													},
													"isInverted": true
												},
												{
													"id": "is-between-values",
													"objectClass": "System",
													"sid": 847425268009261,
													"parameters": {
														"value": "Terrain.TileToPositionY(tileY)",
														"lower-bound": "ViewportTop(\"Layer 1\")",
														"upper-bound": "ViewportBottom(\"Layer 1\")"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "RandomSpawnTile",
													"sid": 272760896767563,
													"disabled": true
												}
											],
											"sid": 695652965049127,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "while",
															"objectClass": "System",
															"sid": 319164490067113
														}
													],
													"actions": [],
													"sid": 460174494951906,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-tile-at",
																	"objectClass": "Terrain",
																	"sid": 217952301782813,
																	"parameters": {
																		"tile-x": "tileX",
																		"tile-y": "tileY+1",
																		"comparison": 1,
																		"tile": "-1"
																	}
																},
																{
																	"id": "evaluate-expression",
																	"objectClass": "System",
																	"sid": 154792983396832,
																	"parameters": {
																		"value": "tileY > floor(Terrain.Height/16)"
																	}
																}
															],
															"actions": [
																{
																	"id": "stop-loop",
																	"objectClass": "System",
																	"sid": 133768524003324
																}
															],
															"sid": 405857950406102,
															"isOrBlock": true
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 316306922662478
																}
															],
															"actions": [
																{
																	"id": "add-to-eventvar",
																	"objectClass": "System",
																	"sid": 942955896438398,
																	"parameters": {
																		"variable": "tileY",
																		"value": "1"
																	}
																}
															],
															"sid": 608886242761757
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "subtract-from-eventvar",
															"objectClass": "System",
															"sid": 401810616919502,
															"parameters": {
																"variable": "tileY",
																"value": "1"
															}
														}
													],
													"sid": 190769042239451
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-tile-at",
															"objectClass": "Terrain",
															"sid": 239915512740428,
															"parameters": {
																"tile-x": "tileX",
																"tile-y": "tileY-1",
																"comparison": 0,
																"tile": "-1"
															}
														},
														{
															"id": "evaluate-expression",
															"objectClass": "System",
															"sid": 732356116816998,
															"parameters": {
																"value": "tileY < floor(Terrain.Height/16)"
															}
														}
													],
													"actions": [
														{
															"callFunction": "RandomSpawnTile",
															"sid": 961551310788213,
															"disabled": true
														}
													],
													"sid": 717485428939542,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-between-values",
																	"objectClass": "System",
																	"sid": 340320921833462,
																	"disabled": true,
																	"parameters": {
																		"value": "Terrain.TileToPositionX(tileX)",
																		"lower-bound": "ViewportLeft(\"Layer 1\")",
																		"upper-bound": "ViewportRight(\"Layer 1\")"
																	},
																	"isInverted": true
																},
																{
																	"id": "is-between-values",
																	"objectClass": "System",
																	"sid": 920654431038351,
																	"disabled": true,
																	"parameters": {
																		"value": "Terrain.TileToPositionY(tileY)",
																		"lower-bound": "ViewportTop(\"Layer 1\")",
																		"upper-bound": "ViewportBottom(\"Layer 1\")"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"callFunction": "SpawnEnemy",
																	"sid": 926816362320853,
																	"parameters": [
																		"\"Zombie\"",
																		"Terrain.TileToPositionX(tileX)",
																		"Terrain.TileToPositionY(tileY)",
																		"10"
																	]
																}
															],
															"sid": 223651324558399
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 888913811769700
																}
															],
															"actions": [],
															"sid": 879208314049242,
															"disabled": true
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 228926926930415
														}
													],
													"actions": [],
													"sid": 443488370328196,
													"disabled": true
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 445153234250045
												}
											],
											"actions": [
												{
													"callFunction": "RandomSpawnTile",
													"sid": 288332838780560
												}
											],
											"sid": 533101494952520,
											"disabled": true
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 496775971041512
										}
									],
									"actions": [
										{
											"callFunction": "RandomSpawnTile",
											"sid": 162647232766895
										}
									],
									"sid": 143592735671084,
									"disabled": true
								}
							]
						}
					]
				},
				{
					"functionName": "Get_ActiveMobCount",
					"functionDescription": "",
					"functionCategory": "EnemySpawn",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 425235405590717,
					"children": [
						{
							"eventType": "variable",
							"name": "counter",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 443213377435708
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 141118414016759,
									"parameters": {
										"object": "Enemies"
									}
								}
							],
							"actions": [],
							"sid": 354276006880640,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 812880472974093,
											"parameters": {
												"value": "Enemies.X",
												"lower-bound": "ViewportLeft(\"Layer 1\")-80",
												"upper-bound": "ViewportRight(\"Layer 1\")+80"
											}
										},
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 698139197895562,
											"parameters": {
												"value": "Enemies.Y",
												"lower-bound": "ViewportTop(\"Layer 1\")-48",
												"upper-bound": "ViewportBottom(\"Layer 1\")+48"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 181560349704722,
											"parameters": {
												"variable": "counter",
												"value": "Enemies.MobSpawnWeight"
											}
										}
									],
									"sid": 459403413327734
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 612937275646727
										}
									],
									"actions": [],
									"sid": 508659464723637,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 958254140788491
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 977441879138462,
									"parameters": {
										"value": "counter"
									}
								}
							],
							"sid": 585380040036618
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 425458455182717,
							"parameters": {
								"tag": "\"Tick\""
							}
						}
					],
					"actions": [],
					"sid": 662779500071565,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 336342940100485,
									"parameters": {
										"value": "PhaseDayClycle = \"Night\""
									}
								},
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 345170377288277,
									"parameters": {
										"value": "Enemies.Count < 15"
									}
								}
							],
							"actions": [],
							"sid": 184829193317986,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 818042637635955,
											"parameters": {
												"value": "random(10) > (SpawnRate*(MobRate/MaxMobRate))/20"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "spawn"
										},
										{
											"callFunction": "RandomSpawnTile",
											"sid": 409838791703317
										}
									],
									"sid": 440968039872692
								}
							]
						}
					]
				}
			],
			"sid": 162307444119125
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Enemies",
					"sid": 394406594495282,
					"parameters": {
						"object": "WorldBottom"
					}
				}
			],
			"actions": [
				{
					"callFunction": "HitEnemy",
					"sid": 164815945607206,
					"parameters": [
						"Enemies.UID",
						"0",
						false,
						"5",
						"0"
					]
				}
			],
			"sid": 552081244737121
		}
	],
	"sid": 377794395034310
}